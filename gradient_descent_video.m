clc;
clear;
% creating random dataset with prescribed beta0 & beta1
% x = rand(50,1);
% disp(x);
x = [0.7342;0.5710;0.1769;0.9574;0.2653;0.9246;0.2238;0.3736;...
    0.0875;0.6401;0.1806;0.0451;0.7232;0.3474;0.6606;...
    0.3839;...
    0.6273;...
    0.0216;...
    0.9106;...
    0.8006;...
    0.7458;...
    0.8131;...
    0.3833;...
    0.6173;...
    0.5755;...
    0.5301;...
    0.2751;...
    0.2486;...
    0.4516;...
    0.2277;...
    0.8044;...
    0.9861;...
    0.0300;...
    0.5357;...
    0.0871;...
    0.8021;...
    0.9891;...
    0.0669;...
    0.9394;...
    0.0182;...
    0.6838;...
    0.7837;...
    0.5341;...
    0.8854;...
    0.8990;...
    0.6259;...
    0.1379;...
    0.2178;...
    0.1821;...
    0.0418];

% y = 3.3 + 5.05*x; % with beta0 = 3.3 and beta1 = 5.05, in this data-set, no noise is added
% y=3.3 + 5.05*x + rand(50,1);
y=5.05*x + rand(50,1);
% figure(1);
% scatter(x,y)
%%
% visualising error for different beta1(hence, different beta0) values and different

beta1 = 2:0.1:10;
for i = 1:length(beta1)  
    
%     beta0=mean(y)-beta1(i)*mean(x);
    line =beta1(i)*x; % for different beta1 value getting the y value   
 
    error(i) = norm (y - line,2);

%   xlabel('$beta1$','Interpreter','Latex');
%   ylabel('$Relative error$','Interpreter','Latex');
end
plot(beta1,error,'LineWidth',2)
xlim([2 11])
ylim([2 18])
  xlabel('$\beta$','Interpreter','Latex','fontweight','bold','fontsize',16);
  ylabel('Cost','Interpreter','Latex','fontweight','bold','fontsize',16);
hold on;
%%
% clc;
alpha=.1;
psi1=0;
psi1_arr=[];
error_arr=[];
for i=1:16
    sum=0;
    for j=1:length(x)
        sum=sum-(y(j)-psi1*x(j))*x(j);
    end
    
    psi1=psi1-alpha*sum;
    line = psi1*x;
    error = norm (y - line,2);
    
    plot(psi1,error,'or','LineWidth',2)
    psi1_arr(i)=psi1;
    error_arr(i)=error;
%   xlim([3 9])
%   ylim([2 14])
%   disp(psi1);
   
%   ylim([-7 7])
    pause(.5)
end
disp(psi1_arr)
for i=1:length(psi1_arr)-1
    plot([psi1_arr(i)+.1,psi1_arr(i+1)+.1],[error_arr(i)+.1,error_arr(i+1)+.1],':<','LineWidth',2,...
    'MarkerSize',5,...
    'MarkerEdgeColor','b',...
    'MarkerFaceColor',[0.5,0.5,0.5]);
    pause(.5)
end